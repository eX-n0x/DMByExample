<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>DM By Example</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A guide to DM in the style of Rust by Example.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="installation.html">Installation</a></li><li class="chapter-item expanded "><a href="hello_world.html"><strong aria-hidden="true">1.</strong> Hello World</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="hello/comments.html"><strong aria-hidden="true">1.1.</strong> Comments</a></li><li class="chapter-item expanded "><a href="hello/types.html"><strong aria-hidden="true">1.2.</strong> Basic Types</a></li></ol></li><li class="chapter-item expanded "><a href="variables.html"><strong aria-hidden="true">2.</strong> Variables</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">2.1.</strong> Strings</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.2.</strong> Lists</div></li><li class="chapter-item expanded "><a href="vars/casting.html"><strong aria-hidden="true">2.3.</strong> Casting</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.4.</strong> Constants</div></li></ol></li><li class="chapter-item expanded "><a href="operators.html"><strong aria-hidden="true">3.</strong> Operators</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ops/bitflags.html"><strong aria-hidden="true">3.1.</strong> Bitflags</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.2.</strong> Operator Overloading</div></li></ol></li><li class="chapter-item expanded "><a href="statements.html"><strong aria-hidden="true">4.</strong> Statements</a></li><li class="chapter-item expanded "><a href="flow_control.html"><strong aria-hidden="true">5.</strong> Control Flow</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="flow/if_else.html"><strong aria-hidden="true">5.1.</strong> if/else</a></li><li class="chapter-item expanded "><a href="flow/loops.html"><strong aria-hidden="true">5.2.</strong> loops</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="flow/loops/while.html"><strong aria-hidden="true">5.2.1.</strong> while</a></li><li class="chapter-item expanded "><a href="flow/loops/for.html"><strong aria-hidden="true">5.2.2.</strong> for</a></li><li class="chapter-item expanded "><a href="flow/loops/nesting.html"><strong aria-hidden="true">5.2.3.</strong> Nesting</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.3.</strong> Advanced loops</div></li></ol></li><li class="chapter-item expanded "><a href="procs.html"><strong aria-hidden="true">6.</strong> Procedures</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> Arguments</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> Return Values</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Objects</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> Creation &amp; Disposal</div></li><li class="chapter-item expanded "><a href="objs/inheritance.html"><strong aria-hidden="true">7.2.</strong> Inheritance</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Preprocessor</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> Advanced Usage</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> I/O</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">9.1.</strong> File I/O</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.</strong> HTTP</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.3.</strong> FFI</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> Error Handling</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">10.1.</strong> Try/Catch</div></li></ol></li><li class="chapter-item expanded "><a href="meta.html"><strong aria-hidden="true">11.</strong> Meta</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">11.1.</strong> Language Server</div></li><li class="chapter-item expanded "><a href="meta/dmdoc.html"><strong aria-hidden="true">11.2.</strong> DMDoc</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.3.</strong> StrongDMM</div></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">DM By Example</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p><a href="https://secure.byond.com/docs/guide/">DM</a> is a game programming language for the <a href="https://secure.byond.com/">BYOND</a> platform.</p>
<p>DM By Example (DMBE) is a collection of examples that illustrate various DM concepts.
To get even more out of these examples, don't forget to <a href="./installation.html">install BYOND locally</a> and check out the <a href="https://secure.byond.com/docs/ref/">official ref</a>.</p>
<p>If you find an error or you want to contribute, you can go check our <a href="https://github.com/spacestation13/DMByExample">GitHub</a>.
You can also join the coderbus <a href="https://discord.gg/Vh8TJp9">discord</a> if you need help with code or this guide itself.</p>
<h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>TODO</p>
<p>http://www.byond.com/download/</p>
<h1 id="hello-world"><a class="header" href="#hello-world">Hello World</a></h1>
<p>This is the source code of the traditional Hello World program.</p>
<pre><code class="language-dm">// This is a comment, and is ignored by the compiler

// This is a proc `Login()` defined on a base mob. We'll learn more about those later.
/mob/Login()
    // Statements here are executed when a mob logs into the game

    // Print text to world
    world &lt;&lt; &quot;Hello World!&quot;
</code></pre>
<p><code>world &lt;&lt; &quot;x&quot;</code> is the most basic way to output text to the default window, using the &lt;&lt; <a href="./operators.html">operator</a>.</p>
<p>To run this, simply open up a blank byond project, and compile it.</p>
<p>When you log into the game, you will see the text in the side chat bar!</p>
<h2 id="activity"><a class="header" href="#activity">Activity</a></h2>
<p>Try adding a new line with a second <code>world &lt;&lt; &quot;x&quot;</code> so that the output shows:</p>
<pre><code>Hello World!
I'm a Developer!
</code></pre>
<h1 id="comments"><a class="header" href="#comments">Comments</a></h1>
<p>Any program requires comments, and DM supports a few different varieties:</p>
<ul>
<li>Regular comments which are ignored by the compiler:
<ul>
<li><code>// Line comments which go to the end of the line.</code></li>
<li><code>/* Block comments which go to the closing delimiter. */</code></li>
</ul>
</li>
<li>Doc comments which are parsed for SS13 codebase <a href="hello/../meta/dmdoc.html">documentation</a>:
<ul>
<li><code>/// Generate docs for the following item.</code></li>
<li><code>//! Generate docs for the enclosing item.</code></li>
<li><code>/** Generate docs until the closing delimiter. */</code></li>
</ul>
</li>
</ul>
<pre><code class="language-dm">/proc/test()
	// This is an example of a line comment
	// There are two slashes at the beginning of the line
	// And nothing written inside these will be read by the compiler

	// world.log &lt;&lt; &quot;Hello, world!&quot;

	/* 
	 * This is another type of comment, a block comment. In general,
	 * line comments are the recommended comment style. But
	 * block comments are extremely useful for temporarily disabling
	 * chunks of code. /* Block comments can be /* nested, */ */
	 * so it takes only a few keystrokes to comment out everything
	 * in this test() proc.
	 */

	/// This is an example of a doc comment documenting the x variable.
	var/x = &quot;Hi!&quot;

/**
  * Now I'm documenting the other() proc.
  *
  * I can type on multiple lines.
  * `I can embed markdown as well!`
  */
/proc/other()
	world.log &lt;&lt; &quot;foo&quot;
</code></pre>
<h1 id="basic-types"><a class="header" href="#basic-types">Basic Types</a></h1>
<p>Even though variables do not need to have their types defined for primitive data, different types still exist, and variables need their type defined if you are going to assign them an object and you plan to use the variable to access some of the object's properties.</p>
<h2 id="primitive-types"><a class="header" href="#primitive-types">Primitive types</a></h2>
<p>Primitive types are types that do not need variables to be typecasted anyhow. This includes:</p>
<ul>
<li>Numeric values <code>1, 24.3, 3.14</code></li>
<li>Strings <code>&quot;a&quot;, &quot;abc&quot;</code></li>
<li>Booleans <code>TRUE, FALSE</code> (which aren't anything different than the numeric value 1 and 0)</li>
<li>Null <code>null</code></li>
</ul>
<p>You can simply assign them to your variable, and access the variable content. </p>
<p>In particular, notice how lists (<code>/list</code>) aren't considered a primitive type. Even though assigning a list to a var won't cause an error normally, it's bad practice to not typecast it, since a list is essentially an object, and you won't be able to access list methods and properties on a non-typecasted list.</p>
<p>Null is considered a primitive type because it can be assigned to any var, and since null means basically no value, you aren't going to access any of its properties since it has none.</p>
<h2 id="object-types"><a class="header" href="#object-types">Object types</a></h2>
<p>Object types are the core of any object oriented programming language, like DM. These will be covered further <a href="hello/./Objects.html">later</a>.</p>
<h1 id="variables"><a class="header" href="#variables">Variables</a></h1>
<p>Variables are data containers, which, as the name implies, can get their data changed through assignment operations. If you want to store some data, you will use a variable. The basic syntax is:</p>
<pre><code class="language-dm">var/myVariable = initialValue
</code></pre>
<p>where <code>var</code> is the keyword telling the compiler we're defining a new variable, <code>myVariable</code> is the variable's name, which cannot be a reserved word like <code>var</code> as we said previously. </p>
<p><code>= initialValue</code> is used to assign an initial value to the variable. This is optional, and if omitted, the variable's value will be <code>null</code>, a special value that means the variable holds nothing. </p>
<p>A key difference in other languages like C is that primitive variables don't need the user to define their type, you can do</p>
<pre><code class="language-dm">var/myVar = &quot;Hello World&quot;
myVar = 1
</code></pre>
<p>Without any sort of error. Even though this will work with any sort of var type, we will see futher on that it can cause issues when our variables hold objects and we try to access its methods or such, but we will expand on this <a href="./Objects.html">later</a>.</p>
<h2 id="activity-1"><a class="header" href="#activity-1">Activity</a></h2>
<p>Try using a combination of a variable and a <code>world &lt;&lt; &quot;x&quot;</code> statement to output the text <code>&quot;DMBE&quot;</code> to the chat window.</p>
<h1 id="casting"><a class="header" href="#casting">Casting</a></h1>
<p>DM provides implicit type conversion (coercion) between primitive types.</p>
<pre><code class="language-dm">var/x = &quot;string&quot;
world &lt;&lt; x // &quot;string&quot;
x = 5
world &lt;&lt; x // 5
</code></pre>
<p>Say you have an <code>/obj/honk</code> object, you're fully able to assign it to a type-less var as we did before with our string and number, but you won't be able to actually access any of the object's data without typecasting it first. </p>
<p>The syntax to cast a variable <code>varname</code> to the type <code>your/type</code> is as such:</p>
<pre><code class="language-dm">var/your/type/varname = initialValue
</code></pre>
<h1 id="operators"><a class="header" href="#operators">Operators</a></h1>
<p>The operators available in DM are very similar to other C-like languages. Their <a href="http://www.byond.com/docs/ref/#/operator">precedence</a> is also similar.</p>
<p>Here's the base operators:</p>
<pre><code class="language-dm">Addition = &quot;+&quot;
Subtraction = &quot;-&quot;
Multiplication = &quot;*&quot;
Division = &quot;/&quot;
Powower = &quot;**&quot;
Modulo = &quot;%&quot;
</code></pre>
<p>Conditional operators:</p>
<pre><code class="language-dm">Equal = &quot;==&quot;
Not Equal = &quot;!=&quot;
And = &quot;&amp;&amp;&quot;
Or = &quot;||&quot;
Less Than = &quot;&lt;&quot;
Greater Than = &quot;&gt;&quot;
Less Than or Equal = &quot;&lt;=&quot;
Greater Than or Equal = &quot;&gt;=&quot;
</code></pre>
<p>Unary operators:</p>
<pre><code class="language-dm">Not = &quot;!&quot;
Binary Not = &quot;~&quot;
Negate = &quot;-&quot;
Increment = &quot;++&quot;
Decrement = &quot;--&quot;
</code></pre>
<p>Assignment operators:</p>
<pre><code class="language-dm">Assign = &quot;=&quot;
Addition Assign = &quot;+=&quot;
Subtract Assign = &quot;-=&quot;
Multiply Assign = &quot;*=&quot;
Divide Assign = &quot;/=&quot;
Modulo Assign = &quot;%=&quot;
Assign Into = &quot;:=&quot; // walrus operator
And Assign = &quot;&amp;&amp;=&quot;
Or Assign = &quot;||=&quot;
</code></pre>
<p>Binary operators:</p>
<pre><code class="language-dm">Binary And = &quot;&amp;&quot;
Binary Or = &quot;|&quot;
Binary Xor = &quot;^&quot;
Left Shift = &quot;&lt;&lt;&quot;
Right Shift = &quot;&gt;&gt;&quot;
</code></pre>
<p>Binary assignment operators:</p>
<pre><code class="language-dm">Binary And Assign = &quot;&amp;=&quot;
Binary Xor Assign = &quot;^=&quot;
Binary Or Assign = &quot;|=&quot;
Left Shift Assign = &quot;&lt;&lt;=&quot;
Right Shift Assign = &quot;&gt;&gt;=&quot;
</code></pre>
<p><a href="http://www.byond.com/docs/ref/info.html#/operator/%7E=">Equivalence</a> operators:</p>
<pre><code class="language-dm">Equivalent = &quot;~=&quot;
Not Equivalent = &quot;~!&quot;
</code></pre>
<p>Special BYOND operators</p>
<pre><code class="language-dm">In = &quot;in&quot; // Used for ranges ex. `for(var/x in 1 to 5)`
To = &quot;to&quot; // Only appears in the RHS of `In`, above
Step = &quot;step&quot; // Only in for loops, ex. `for(var/x in 10 to 1 step -1)`
</code></pre>
<p>There is also the C-style ternary operator expression: <code>condition ? if_true : if_false</code>.</p>
<h2 id="activity-2"><a class="header" href="#activity-2">Activity</a></h2>
<p>Go over the following snippet. What will the value of N be at each line?</p>
<pre><code class="language-dm">var/N
N = 0
N += 1+1*2
if(N - 1 == 2) N = 2
if(N==2 &amp;&amp; 1/2==0.5) N = 0.5
</code></pre>
<h1 id="bitflags"><a class="header" href="#bitflags">Bitflags</a></h1>
<p>Bitflags, or <a href="https://en.wikipedia.org/wiki/Bit_field">bit fields</a>, are handy ways to compactly store data in a variable.</p>
<p>Since DM only supports floating point numbers, we are restricted to 24 bits (23 explicitly stored) per variable.</p>
<pre><code class="language-dm">#define DISABILITY_EYE (1&lt;&lt;1) // 1
#define DISABILITY_ARM (1&lt;&lt;2) // 2
#define DISABILITY_LEG (1&lt;&lt;3) // 4

/mob/var/disabilities = 0

/mob/proc/add_disability(dis)
	disabilities |= dis

/mob/proc/check_disability(dis)
	if( disabilities &amp; dis )
		return TRUE
	else
		return FALSE

/mob/proc/remove_disability(dis)
	disabilities &amp;= ~dis
</code></pre>
<p>For a closer look at the binary math behind this, check out tgstation's <a href="https://tgstation13.org/wiki/Binary_flags">article</a>.</p>
<h2 id="activity-3"><a class="header" href="#activity-3">Activity</a></h2>
<p>Using the above code snippet as a base, try implementing the ability to toggle a flag easily.</p>
<blockquote>
<p>Hint: What other binary operators are there?</p>
</blockquote>
<h1 id="statements"><a class="header" href="#statements">Statements</a></h1>
<p>A DM program is (mostly) made up of a series of statements:</p>
<pre><code class="language-dm">/mob/Login()
	// statement
	// statement
</code></pre>
<p>There are a few kinds of statements in DM. Statements can stand alone, but an expression cannot.</p>
<p>An expression:</p>
<pre><code class="language-dm">x + 5
</code></pre>
<p>A statement:</p>
<pre><code class="language-dm">x += 5
</code></pre>
<p>Statements can be part of other statements, and expressions must be part of a statement.</p>
<pre><code class="language-dm">// variable binding
var/x = 5

// this line is a statement, and there is a (expression) in it
x = (x + 5)

var/lessThan3 = x &lt; 3
world.log &lt;&lt; lessThan3
</code></pre>
<h2 id="activity-4"><a class="header" href="#activity-4">Activity</a></h2>
<p>Try making a statement of your own from a total of three expressions. It should be true (1) if a variable <code>y</code> is greater than 3 but less than 10.</p>
<blockquote>
<p>Hint: Think of nested expressions.</p>
</blockquote>
<h1 id="control-flow"><a class="header" href="#control-flow">Control Flow</a></h1>
<p>An essential part of any programming languages are ways to modify control flow: <code>if/else</code>, <code>for</code>, and others. Let's talk about them in DM.</p>
<p>A note: While not strictly required, you can use {curly braces} instead of/in addition to indentation to indicate scope.</p>
<h1 id="ifelse"><a class="header" href="#ifelse">if/else</a></h1>
<p>Branching with <code>if-else</code> is similar to other languages. The boolean condition needs to be surrounded by parentheses, and each condition is followed by a block. <code>if-else</code> conditionals are expressions.</p>
<pre><code class="language-dm">/mob/Login()
	var/n = 5

	if (n &lt; 0)
		world &lt;&lt; &quot;[n] is negative&quot;
	else if (n &gt; 0)
		world &lt;&lt; &quot;[n] is positive&quot;
	else
		world &lt;&lt; &quot;[n] is zero&quot;
</code></pre>
<p>You can also construct if statements on a single line, as such:</p>
<pre><code class="language-dm">if (n == 7) world.log &lt;&lt; &quot;Special number!&quot;
</code></pre>
<h2 id="activity-5"><a class="header" href="#activity-5">Activity</a></h2>
<p>Using the code in the first block, try adding a condition to check if the number is divisible by two.</p>
<h1 id="loops"><a class="header" href="#loops">loops</a></h1>
<p>Loops are the fundamental way to do repeat actions in a programming language.</p>
<p>One thing in common across all types of loops in DM are the <code>break</code> and <code>continue</code> statements.</p>
<p>The <code>break</code> statement can be used to exit a loop at anytime, whereas the <code>continue</code> statement can be used to skip the rest of the iteration and start a new one.</p>
<pre><code class="language-dm">/mob/Login()
	var/count = 0

	world &lt;&lt; &quot;Let's count until infinity!&quot;

	// Infinite loop
	while (TRUE)
		count += 1

		if (count == 3)
			world &lt;&lt; &quot;three&quot;

			// Skip the rest of this iteration
			continue

		world &lt;&lt; &quot;#[count]&quot;

		if (count == 5)
			world &lt;&lt; &quot;OK, that's enough&quot;

			// Exit this loop
			break
</code></pre>
<h1 id="while"><a class="header" href="#while">while</a></h1>
<p>The while keyword can be used to run a loop while a condition is true.</p>
<p>Let's write the infamous <a href="https://en.wikipedia.org/wiki/Fizz_buzz">FizzBuzz</a> using a <code>while</code> loop.</p>
<pre><code class="language-dm">/mob/Login()
	// A counter variable
	var/n = 1

	// Loop while `n` is less than 101
	while (n &lt; 101)
		if (n % 15 == 0)
			world &lt;&lt; &quot;fizzbuzz&quot;
		else if (n % 3 == 0)
			world &lt;&lt; &quot;fizz&quot;
		else if (n % 5 == 0)
			world &lt;&lt; &quot;buzz&quot;
		else
			world &lt;&lt; &quot;[n]&quot;

		// Increment counter
		n += 1
</code></pre>
<h1 id="for"><a class="header" href="#for">for</a></h1>
<p>For loops are the other core type of loop in DM.</p>
<p>There's two main syntaxes for iteration, one traditional, one cleaner:</p>
<pre><code class="language-dm">for (var/x = 0; x &lt; 10; x++)
	...

for (var/x in 0 to 10)
	...
</code></pre>
<p>You can use also variables instead of constant iteration numbers:</p>
<pre><code class="language-dm">var/number = rand(5,10) // gives a random number from 5-10

for (var/i in 1 to number)
	...
</code></pre>
<p>However, keep in mind, for the <code>for-in-to</code> syntax, you cannot modify the iterator within the loop as you can with a traditional-style one:</p>
<pre><code class="language-dm">for (var/x = 0; x &lt; 10; x++)
	x++ // valid

for (var/y in 0 to 10)
	y++ // invalid
</code></pre>
<p>Let's write our FizzBuzz example from <a href="flow/loops/./while.html">while</a>.</p>
<pre><code class="language-dm">/mob/Login()
  // `n` will take the values: 1, 2, ..., 100 in each iteration
  for (var/n in 1 to 101) {
		if (n % 15 == 0)
			world &lt;&lt; &quot;fizzbuzz&quot;
		else if (n % 3 == 0)
			world &lt;&lt; &quot;fizz&quot;
		else if (n % 5 == 0)
			world &lt;&lt; &quot;buzz&quot;
		else
			world &lt;&lt; &quot;[n]&quot;
</code></pre>
<h1 id="nesting"><a class="header" href="#nesting">Nesting</a></h1>
<p>In addition to having stand-alone loops, you can also nest them as such (iterator variables cannot be the same):</p>
<pre><code class="language-dm">for (var/x in 1 to 10)
	for (var/y in 1 to 10)
		...
</code></pre>
<p>This forms the backbone of many things, such as working with multi-dimensional lists.</p>
<pre><code class="language-dm">var/list/my_list[3][3]
for (var/i in 1 to length(my_list))
    for(var/j in 1 to length(my_list))
        my_list[i][j] = &quot;[i],[j]&quot;
world &lt;&lt; json_encode(my_list)
</code></pre>
<h2 id="activity-6"><a class="header" href="#activity-6">Activity</a></h2>
<p>Try fixing the code above so it works with non-square multi-dimensional lists.</p>
<h1 id="procedures"><a class="header" href="#procedures">Procedures</a></h1>
<p>Procedures, or procs, declared using the <code>proc</code> keyword. These are also known by other names in other languages, such as functions or methods. Its arguments come after in parentheses. DM does not have return type annotation like other languages.</p>
<p>If you are not declaring (therefore, overriding) a new proc, you omit the <code>proc</code> keyword. See: <code>/mob/Login()</code> below.</p>
<p>The <code>return</code> statement can be used to return a value from within the proc, even from inside loops or if statements.</p>
<p>Let's rewrite FizzBuzz using a proc!</p>
<pre><code class="language-dm">// Unlike C/C++, there's no restriction on the order of function definitions
/mob/Login()
	fizzbuzz_to(100)

// Returns a boolean value
/proc/is_divisible_by(lhs, rhs)
	// Edge case, early return
	if (rhs == 0)
		return FALSE

	return (lhs % rhs == 0)

/proc/fizzbuzz(n)
	if (is_divisible_by(n, 15))
		world &lt;&lt; &quot;fizzbuzz&quot;
	else if (is_divisible_by(n, 3))
		world &lt;&lt; &quot;fizz&quot;
	else if (is_divisible_by(n, 5))
		world &lt;&lt; &quot;buzz&quot;
	else
		world &lt;&lt; &quot;[n]&quot;

/proc/fizzbuzz_to(n)
	for (var/p in 1 to n+1)
		fizzbuzz(p)
</code></pre>
<h1 id="inheritance"><a class="header" href="#inheritance">Inheritance</a></h1>
<p>A key part of DM, being an Object-Oriented language, is inheritance.</p>
<p>Let's say you have an type with the path <code>/datum/foo</code>. If you then define a subtype <code>/datum/foo/bar</code>, it will inherit properties from the first.</p>
<pre><code class="language-dm">/datum/foo
	var/foo_var = 5

/proc/main()
	var/datum/foo/bar/my_subtype = new
	world &lt;&lt; my_subtype.foo_var // 5
</code></pre>
<p>You can also override properties of the parent:</p>
<pre><code class="language-dm">/datum/foo
	var/foo_var = 5

/datum/foo/bar
	foo_var = 10

/proc/main()
	var/datum/foo/bar/my_subtype = new
	world &lt;&lt; my_subtype.foo_var // 10
</code></pre>
<p>You can do this with procs as well:</p>
<pre><code class="language-dm">/datum/foo/proc/xyzzy()
	world &lt;&lt; &quot;parent&quot;

/datum/foo/bar/xyzzy()
	world &lt;&lt; &quot;child&quot;

/proc/main()
	var/datum/foo/bar/my_subtype = new
	my_subtype.xyzzy() // &quot;child&quot;
</code></pre>
<p>Sometimes, you will want to have functionality <strong>in addition to</strong> the parent functionality. This is expressed in other languages sometimes as <code>super()</code>. Instead, we use <code>..()</code> in DM. This can be called at any point in the proc.</p>
<pre><code class="language-dm">/datum/foo/proc/dream()
	return &quot;yond&quot;

/datum/foo/bar/dream()
	world &lt;&lt; &quot;Be&quot; + ..()

/proc/main()
	var/datum/foo/bar/my_subtype = new
	my_subtype.dream() // &quot;Beyond&quot;
</code></pre>
<h1 id="meta"><a class="header" href="#meta">Meta</a></h1>
<p>The SS13 community has built up a lot of toolings around the base DM language.</p>
<p>dm langserver</p>
<h2 id="dmdoc"><a class="header" href="#dmdoc">DMDoc</a></h2>
<p>found <a href="https://github.com/SpaceManiac/SpacemanDMM/tree/master/src/dmdoc">here</a></p>
<p>strongdmm</p>
<h1 id="dmdoc-1"><a class="header" href="#dmdoc-1">DMDoc</a></h1>
<p>Used by many SS13 codebases, DMDoc automatically generates code documentation from <a href="meta/./hello/comments.html">comments</a>.</p>
<p>Types, macros, vars, and procs can be documented using any of four different doc comment styles. Both block and line comments are supported. Documentation blocks may target their enclosing item or the following item.</p>
<pre><code class="language-dm">/// This comment applies to the following macro.
#define BLUE rgb(0, 255, 0)

/** Block comments work too. */
/obj/foo
	var/affinity = BLUE  //! Enclosing comments follow their item.

/proc/chemical_reaction()
	/*! Block comments work too. */
</code></pre>
<h3 id="crosslinks"><a class="header" href="#crosslinks">Crosslinks</a></h3>
<p>You can also link inside any doc comment or markdown file to another documented piece of code.</p>
<p>Valid forms of crosslinks:</p>
<pre><code class="language-dm">[DEFINE_NAME]
[/path_to_object]
[/path_to_object/proc/foo]
[/path_to_object/var/bar]
</code></pre>
<p>You can also customize the link text that appears. This is by prepending the custom link text in brackets, such as: <code>[some define][DEFINE_NAME]</code>.</p>
<h3 id="titles"><a class="header" href="#titles">Titles</a></h3>
<p>The title of a documentation entry is determined by whichever is set first:</p>
<ul>
<li>A # Title set at the top of a doc block, if present.</li>
<li>The type's name var if present and not disabled in config.</li>
<li>The last component of the typepath.</li>
</ul>
<p>Example:</p>
<pre><code class="language-dm">/**
  * # Fubar
  */
/obj/foo
</code></pre>
<p>Source code <a href="https://github.com/SpaceManiac/SpacemanDMM/tree/master/src/dmdoc">here</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
